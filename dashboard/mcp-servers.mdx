---
title: "MCP Servers"
description: "Connect Model Context Protocol (MCP) servers to give your AI access to databases, APIs, and external services."
---

## Overview

MCP (Model Context Protocol) servers provide tools that run on the backend. Unlike client tools that run on the iOS device, MCP tools run server-side with access to databases, APIs, and other services.

## Adding an MCP Server

MCP servers are added and assigned through the agent detail page:

1. Go to **Agents** and click an agent
2. On the **MCP** tab, click **Add New Server**
3. Enter the server configuration
4. Click **Save**

The server is added to the project pool and assigned to the agent. Other agents can then assign the same server from their MCP tab.

See [Agents](/dashboard/agents) for more on resource assignment.

## Configuration Format

```json
{
  "name": "postgres",
  "command": "npx",
  "args": ["-y", "@modelcontextprotocol/server-postgres"],
  "env": {
    "DATABASE_URL": "postgresql://user:pass@localhost:5432/db"
  }
}
```

## Supported Server Types

### Database Servers

**PostgreSQL**
```json
{
  "name": "postgres",
  "command": "npx",
  "args": ["-y", "@modelcontextprotocol/server-postgres"],
  "env": {
    "DATABASE_URL": "postgresql://..."
  }
}
```

**SQLite**
```json
{
  "name": "sqlite",
  "command": "npx",
  "args": ["-y", "@modelcontextprotocol/server-sqlite", "--db-path", "/data/app.db"]
}
```

### API Servers

**GitHub**
```json
{
  "name": "github",
  "command": "npx",
  "args": ["-y", "@modelcontextprotocol/server-github"],
  "env": {
    "GITHUB_TOKEN": "ghp_..."
  }
}
```

**Slack**
```json
{
  "name": "slack",
  "command": "npx",
  "args": ["-y", "@modelcontextprotocol/server-slack"],
  "env": {
    "SLACK_BOT_TOKEN": "xoxb-..."
  }
}
```

## Environment Variables

Store sensitive values securely:

1. Go to **Project Settings > Secrets**
2. Add environment variables
3. Reference them in MCP config: `$SECRET_NAME`

```json
{
  "name": "postgres",
  "command": "npx",
  "args": ["-y", "@modelcontextprotocol/server-postgres"],
  "env": {
    "DATABASE_URL": "$POSTGRES_URL"
  }
}
```

## Tool Discovery

After adding an MCP server, its tools are automatically available to agents it's assigned to.

Example tools from a PostgreSQL server:
- `query` - Run SQL queries
- `list_tables` - List all tables
- `describe_table` - Get table schema

## Best Practices

| Do | Don't |
|----|-------|
| Use secrets for credentials | Hardcode passwords in config |
| Limit database permissions | Give full admin access |
| Test locally first | Deploy untested servers |
| Monitor tool usage | Ignore usage patterns |

## Troubleshooting

### Server Not Connecting

1. Check that the command exists and is executable
2. Verify environment variables are set correctly
3. Check server logs in **Project Settings > Logs**

### Tools Not Appearing

1. Wait 30 seconds for tool discovery
2. Refresh the MCP Servers page
3. Check the server's tool definitions

## Next Steps

<CardGroup cols={2}>
  <Card title="Agents" icon="robot" href="/dashboard/agents">
    Assign MCP servers to specific agents
  </Card>
  <Card title="Client Tools" icon="mobile" href="/ios-sdk/client-tools">
    Add device-side tools
  </Card>
</CardGroup>
