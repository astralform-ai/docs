<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 500" width="900" height="500">
  <defs>
    <linearGradient id="purple-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#667eea"/>
      <stop offset="100%" style="stop-color:#764ba2"/>
    </linearGradient>
    <linearGradient id="blue-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#3b82f6"/>
      <stop offset="100%" style="stop-color:#1d4ed8"/>
    </linearGradient>
    <linearGradient id="green-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#10b981"/>
      <stop offset="100%" style="stop-color:#059669"/>
    </linearGradient>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="0" dy="4" stdDeviation="8" flood-opacity="0.15"/>
    </filter>
  </defs>

  <!-- Background -->
  <rect width="900" height="500" fill="#0f172a"/>

  <!-- iOS App Box -->
  <rect x="40" y="60" width="200" height="380" rx="12" fill="#1e293b" filter="url(#shadow)"/>
  <rect x="40" y="60" width="200" height="50" rx="12" fill="url(#purple-gradient)"/>
  <rect x="40" y="98" width="200" height="12" fill="#1e293b"/>
  <text x="140" y="92" font-family="system-ui, -apple-system, sans-serif" font-size="16" font-weight="600" fill="white" text-anchor="middle">iOS App</text>

  <!-- iOS App Icon -->
  <rect x="115" y="150" width="50" height="50" rx="10" fill="#334155"/>
  <text x="140" y="183" font-family="system-ui" font-size="24" fill="#667eea" text-anchor="middle">ðŸ“±</text>
  <text x="140" y="230" font-family="system-ui" font-size="12" fill="#94a3b8" text-anchor="middle">Swift SDK</text>

  <!-- Astralform Backend Box -->
  <rect x="340" y="60" width="220" height="380" rx="12" fill="#1e293b" filter="url(#shadow)"/>
  <rect x="340" y="60" width="220" height="50" rx="12" fill="url(#blue-gradient)"/>
  <rect x="340" y="98" width="220" height="12" fill="#1e293b"/>
  <text x="450" y="92" font-family="system-ui, -apple-system, sans-serif" font-size="16" font-weight="600" fill="white" text-anchor="middle">Astralform Backend</text>

  <!-- Backend Components -->
  <rect x="365" y="130" width="170" height="40" rx="6" fill="#334155"/>
  <text x="450" y="156" font-family="system-ui" font-size="12" fill="#e2e8f0" text-anchor="middle">FastAPI + SSE</text>

  <rect x="365" y="185" width="170" height="40" rx="6" fill="#334155"/>
  <text x="450" y="211" font-family="system-ui" font-size="12" fill="#e2e8f0" text-anchor="middle">LangGraph Agent</text>

  <rect x="365" y="240" width="170" height="40" rx="6" fill="#334155"/>
  <text x="450" y="266" font-family="system-ui" font-size="12" fill="#e2e8f0" text-anchor="middle">MCP Tools</text>

  <rect x="365" y="295" width="170" height="40" rx="6" fill="#334155"/>
  <text x="450" y="321" font-family="system-ui" font-size="12" fill="#e2e8f0" text-anchor="middle">PostgreSQL</text>

  <!-- LLM Provider Box -->
  <rect x="660" y="60" width="200" height="380" rx="12" fill="#1e293b" filter="url(#shadow)"/>
  <rect x="660" y="60" width="200" height="50" rx="12" fill="url(#green-gradient)"/>
  <rect x="660" y="98" width="200" height="12" fill="#1e293b"/>
  <text x="760" y="92" font-family="system-ui, -apple-system, sans-serif" font-size="16" font-weight="600" fill="white" text-anchor="middle">LLM Provider</text>

  <!-- LLM Providers -->
  <rect x="685" y="130" width="150" height="35" rx="6" fill="#334155"/>
  <text x="760" y="153" font-family="system-ui" font-size="11" fill="#e2e8f0" text-anchor="middle">OpenAI</text>

  <rect x="685" y="175" width="150" height="35" rx="6" fill="#334155"/>
  <text x="760" y="198" font-family="system-ui" font-size="11" fill="#e2e8f0" text-anchor="middle">Anthropic</text>

  <rect x="685" y="220" width="150" height="35" rx="6" fill="#334155"/>
  <text x="760" y="243" font-family="system-ui" font-size="11" fill="#e2e8f0" text-anchor="middle">Groq</text>

  <rect x="685" y="265" width="150" height="35" rx="6" fill="#334155"/>
  <text x="760" y="288" font-family="system-ui" font-size="11" fill="#e2e8f0" text-anchor="middle">Ollama</text>

  <!-- Arrows -->
  <!-- iOS to Backend -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#667eea"/>
    </marker>
    <marker id="arrowhead-green" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#10b981"/>
    </marker>
    <marker id="arrowhead-left" markerWidth="10" markerHeight="7" refX="1" refY="3.5" orient="auto">
      <polygon points="10 0, 0 3.5, 10 7" fill="#667eea"/>
    </marker>
  </defs>

  <!-- Request Arrow: iOS -> Backend -->
  <line x1="240" y1="360" x2="335" y2="360" stroke="#667eea" stroke-width="2" marker-end="url(#arrowhead)"/>
  <rect x="248" y="345" width="80" height="20" rx="4" fill="#667eea" opacity="0.2"/>
  <text x="288" y="359" font-family="monospace" font-size="10" fill="#a5b4fc" text-anchor="middle">SSE stream</text>

  <!-- Backend -> LLM -->
  <line x1="560" y1="360" x2="655" y2="360" stroke="#10b981" stroke-width="2" marker-end="url(#arrowhead-green)"/>
  <rect x="568" y="345" width="80" height="20" rx="4" fill="#10b981" opacity="0.2"/>
  <text x="608" y="359" font-family="monospace" font-size="10" fill="#6ee7b7" text-anchor="middle">API call</text>

  <!-- Response Arrow: LLM -> Backend -->
  <line x1="655" y1="390" x2="560" y2="390" stroke="#10b981" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead-green)" transform="rotate(180, 607.5, 390)"/>

  <!-- Response Arrow: Backend -> iOS -->
  <line x1="335" y1="390" x2="240" y2="390" stroke="#667eea" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead)" transform="rotate(180, 287.5, 390)"/>
  <rect x="248" y="395" width="80" height="20" rx="4" fill="#667eea" opacity="0.2"/>
  <text x="288" y="409" font-family="monospace" font-size="10" fill="#a5b4fc" text-anchor="middle">events</text>

  <!-- Tool flow indicator -->
  <rect x="90" y="270" width="100" height="50" rx="6" fill="#334155"/>
  <text x="140" y="292" font-family="system-ui" font-size="10" fill="#94a3b8" text-anchor="middle">Client Tools</text>
  <text x="140" y="308" font-family="system-ui" font-size="9" fill="#64748b" text-anchor="middle">Calendar, Contacts</text>

  <!-- Legend -->
  <rect x="40" y="460" width="12" height="12" rx="2" fill="#667eea"/>
  <text x="60" y="470" font-family="system-ui" font-size="11" fill="#94a3b8">Request</text>

  <line x1="120" y1="466" x2="150" y2="466" stroke="#667eea" stroke-width="2" stroke-dasharray="5,5"/>
  <text x="160" y="470" font-family="system-ui" font-size="11" fill="#94a3b8">Response</text>
</svg>
